<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="description" content="Smidt Vine er en lokal vinhandel i Svendborg på Sydfyn, der sælger gode, unikke vine fra Montsant og Mosel, der alle er udvalgt personligt." />
    <meta
      name="keywords"
      content="vin, vinhandel, vinbutik, vin online, rødvin, hvidvin, rosé vin, smagekasser, mystery box, Svendborg, Sydfyn, Fyn, lokal, personlig, unik, ærlig, nær, sjælden, Riesling, Mosel, Tyskland, Montsant, Mont Sant, Spanien, specialiteter, oliven, vindruer, olie, ekstra jomfru olivenolie, økologisk"
    />
    <title>Forside | Smidt Vine</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet" />
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png" />
    <style>
      #promises {
        margin-left: 4vw;
      }
    </style>
  </head>
  <body>
    <header class="mobil">
      <nav class="mobil">
        <div id="myNav" class="overlay mobile_nav">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
          <div class="overlay-content">
            <a href="index.html"><img src="img/logo5.png" alt="Smidt Vine logo" class="burger_logo" /></a>
            <a href="index.html">Forside</a>
            <a href="allevine.html">Vine</a>
            <a href="allespecialiteter.html">Specialiteter</a>
            <a href="smag.html">Smag vores vine</a>
            <a href="om.html">Om Smidt Vine</a>
            <p>Vinbønderne</p>
            <a href="niko_mosel.html" class="mobilnav_vinbonde">- Niko i Mosel</a>
            <a href="josep_montsant.html" class="mobilnav_vinbonde">- Josep i Mont Sant</a>
            <a href="kontakt.html">Kontakt</a>
          </div>
        </div>
        <span class="openbtn" onclick="openNav()">&#9776;</span>
      </nav>
    </header>
    <header class="desktop">
      <nav class="desktop desktop_nav" id="desktop_nav">
        <a href="index.html"><b>Forside</b></a>
        <a href="allevine.html">Vine</a>
        <a href="allespecialiteter.html">Specialiteter</a>
        <a href="smag.html">Smag vores vine</a>
        <a href="om.html">Om Smidt Vine</a>
        <div class="dropdown">
          <button onclick="myFunction()" class="dropbtn">Vinbønderne</button>
          <div id="myDropdown" class="dropdown-content">
            <a href="niko_mosel.html" class="mobilnav_vinbonde">- Niko i Mosel</a>
            <a href="josep_montsant.html" class="mobilnav_vinbonde">- Josep i Mont Sant</a>
          </div>
        </div>
        <a href="kontakt.html">Kontakt</a>
      </nav>
    </header>

    <main>
      <section id="splash">
        <picture class="hero"></picture>
        <div class="splash_overlay"></div>
        <img src="img/logo5.png" alt="logo" class="logo" />
        <h2 class="byline"></h2>
        <a href="#headline" class="scroll-down">
          <p>&#11015; se mere</p>
        </a>
      </section>

      <section id="headline"><h1>Velkommen til Smidt Vine</h1></section>

      <section id="index_content">
        <div class="index_content"></div>
        <template id="index_template">
          <article class="index_wrapper">
            <div class="index_text"><p></p></div>
            <div class="index_image"></div>
          </article>
        </template>
      </section>

      <section id="promises">
        <h2>Det særlige ved Smidt Vine</h2>
        <p>
          Når du handler hos Smidt Vine, så kan du regne med det vi siger og skriver. Vi har lavet tre løfter til dig som kunde.
        </p>
        <p>Læs mere om historien bag Smidt Vine og hvad vi lover jer, vores kunder, <a href="om.html#løfter">ved at klikke her</a></p>
        <article class="promises_wrapper">
          <article>
            <a href="om.html">
              <img src="img/støt_lokalt.png" alt="støt lokalt" class="pop_up" data-delay="0s" />
              <h4>Du støtter lokalt</h4>
            </a>
          </article>
          <article>
            <a href="om.html">
              <img src="img/unikke_varer.png" alt="unikke" class="pop_up" data-delay="0.7s" />
              <h4>Du får unikke produkter</h4>
            </a>
          </article>
          <article>
            <a href="om.html">
              <img src="img/personligt.png" alt="personligt" class="pop_up" data-delay="1.4s" />
              <h4>Du køber det personlige</h4>
            </a>
          </article>
        </article>
      </section>
    </main>

    <footer id="mobile_footer">
      <a href="index.html"><img src="img/logo5.png" alt="Smidt Vine logo" class="footer_logo" /></a>
      <article class="footer_wrapper">
        <article>
          <p>Smidt Vine</p>
          <p>v/Bruno Kristensen</p>
          <p>Strandvej 75</p>
          <p>5700 Svendborg</p>
          <p class="cvr">CVR: 37223115</p>
        </article>
        <article>
          <p>Kontakt:</p>
          <p>Telefon: <a href="tel:21950875">21 95 08 75</a></p>
          <p>
            Mail: <span><a href="mailto:info@smidtvine.dk" target="_blank">info@smidtvine.dk</a></span>
          </p>
          <a href="https://facebook.com/smidtvine" target="_blank">Følg Smidt Vine på Facebook!</a>
        </article>
      </article>
    </footer>
    <footer id="desk_footer">
      <a href="index.html"><img src="img/logo5.png" alt="Smidt Vine logo" class="footer_logo" /></a>
      <p>
        Smidt Vine v/Bruno Kristensen. Strandvej 75. 5700 Svendborg. Cvr: 37223115. Kontakt: Telefon: <a href="tel:21950875">21 95 08 75</a>. Mail:
        <span><a href="mailto:info@smidtvine.dk" target="_blank">info@smidtvine.dk</a></span>
      </p>
    </footer>

    <script>
      "use strict";

      //media query
      const mq = window.matchMedia("(min-width: 800px)");

      // Når man er nået vinduets højde nedad, kommer der baggrundsfarve på nav på desktop
      window.onscroll = function () {
        scrollFunction();
      };
      window.addEventListener("DOMContentLoaded", loadJSON);

      function loadJSON() {
        fetch("https://josefinemargrethe.dk/kea/4-semester/smidtvine/wordpress/wp-json/wp/v2/forside")
          .then((response) => response.json())
          .then((jsonData) => {
            //når JSON er loadet tager vi vores data med videre til prepareData
            showData(jsonData);
          });
      }

      function showData(jsonData) {
        // we are clearing the list
        document.querySelector(".index_content").innerHTML = "";

        // we are building a new list
        jsonData.forEach(displayData);
      }

      function displayData(jsonData) {
        // create clone
        const clone = document.querySelector("#index_template").content.cloneNode(true);

        // set clone data
        clone.querySelector(".index_text").innerHTML = jsonData.forside_tekst1;
        clone.querySelector(".index_image").innerHTML = `<img src="${jsonData.forside_billede1.guid}" alt="${jsonData.forside_billede1.post_title}" class="para_image">`;

        document.querySelector(".index_content").appendChild(clone);
        if (mq.matches) {
          scrollLoop();
        }
        // If media query matches go to function
      }

      function scrollLoop(e) {
        let para = document.querySelector(".para_image");

        let yScrollPosition;

        yScrollPosition = window.scrollY;

        setTranslate(0, yScrollPosition * 0.06, para);

        requestAnimationFrame(scrollLoop);
      }

      function setTranslate(xPos, yPos, el) {
        el.style.transform = `translate3d(0, ${yPos}px, 0)`;
      }

      function scrollFunction() {
        console.log("Scroll funtion");
        if (document.body.scrollTop > window.innerHeight || document.documentElement.scrollTop > window.innerHeight) {
          document.querySelector("#desktop_nav").style.backgroundColor = "var(--bagColor)";
          document.querySelector("#myDropdown").style.backgroundColor = "var(--bagColor)";
        } else {
          document.querySelector("#desktop_nav").style.backgroundColor = "transparent";
          document.querySelector("#myDropdown").style.backgroundColor = "transparent";
        }
      }
    </script>
    <script src="intersect.js"></script>
    <script src="header.js"></script>
    <script src="hero.js"></script>
  </body>
</html>
