<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Smagekasser fra Smidt Vine</title>
    <meta name="description" content="Smidt Vine er en lokal vinhandel i Svendborg på Sydfyn, der sælger gode, unikke vine fra Montsant og Mosel, der alle er udvalgt personligt." />
    <meta
      name="keywords"
      content="vin, vinhandel, vinbutik, vin online, rødvin, hvidvin, rosé vin, smagekasser, mystery box, Svendborg, Sydfyn, Fyn, lokal, personlig, unik, ærlig, nær, sjælden, Riesling, Mosel, Tyskland, Montsant, Mont Sant, Spanien, specialiteter, oliven, vindruer, olie, ekstra jomfru olivenolie, økologisk"
    />
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet" />
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png" />
    <style>
      .vine_headline {
        background-image: linear-gradient(90deg, transparent 50%, var(--smagekasseColor) 0);
      }

      .fragt_info {
        border: 3px solid var(--smagekasseColor);
      }
    </style>
  </head>
  <body>
    <header class="mobil">
      <nav class="mobil">
        <div id="myNav" class="overlay mobile_nav">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
          <div class="overlay-content">
            <a href="index.html"><img src="img/logo5.png" alt="Smidt Vine logo" class="burger_logo" /></a>
            <a href="index.html">Forside</a>
            <a href="allevine.html">Vine</a>
            <a href="allespecialiteter.html">Specialiteter</a>
            <a href="smag.html">Smag vores vine</a>
            <a href="om.html">Om Smidt Vine</a>
            <p>Vinbønderne</p>
            <a href="niko_mosel.html" class="mobilnav_vinbonde">- Niko i Mosel</a>
            <a href="josep_montsant.html" class="mobilnav_vinbonde">- Josep i Mont Sant</a>
            <a href="kontakt.html">Kontakt</a>
          </div>
        </div>
        <span class="openbtn" onclick="openNav()">&#9776;</span>
      </nav>
    </header>
    <header class="desktop">
      <nav class="desktop desktop_nav nav_bg" id="desktop_nav">
        <a href="index.html">Forside</a>
        <a href="allevine.html"><b>Vine</b></a>
        <a href="allespecialiteter.html">Specialiteter</a>
        <a href="smag.html">Smag vores vine</a>
        <a href="om.html">Om Smidt Vine</a>
        <div class="dropdown">
          <button onclick="myFunction()" class="dropbtn">Vinbønderne</button>
          <div id="myDropdown" class="dropdown-content">
            <a href="niko_mosel.html" class="mobilnav_vinbonde">- Niko i Mosel</a>
            <a href="josep_montsant.html" class="mobilnav_vinbonde">- Josep i Mont Sant</a>
          </div>
        </div>
        <a href="kontakt.html">Kontakt</a>
      </nav>
    </header>

    <main>
      <section id="vine_headline">
        <h1><span class="vine_headline">Smagekasser</span></h1>
      </section>

      <section id="intro">
        <article class="fragt_info"></article>
        <aside id="contextnav">
          <nav>
            <p class="show_only">Oversigt</p>
            <a href="allevine.html">Alle vine</a>
            <a href="roedvine.html">Rødvine</a>
            <a href="hvidvine.html">Hvidvine</a>
            <a href="rosevine.html">Rosé vine</a>
            <a href="smagekasser.html"><b>Smagekasser</b></a>
          </nav>
        </aside>
      </section>

      <section id="wines">
        <article class="content">
          <div class="wines"></div>
          <template>
            <article class="single_wine">
              <div class="wine_image"></div>
              <div class="wine_info">
                <h3 class="wine_name"></h3>
                <p class="wine_description"></p>
                <p class="wine_price_six"></p>
                <p class="wine_price"></p>
                <button class="readmore">Læs mere</button>
              </div>
            </article>
          </template>
        </article>
      </section>
    </main>

    <footer id="mobile_footer">
      <a href="index.html"><img src="img/logo5.png" alt="Smidt Vine logo" class="footer_logo" /></a>
      <article class="footer_wrapper">
        <article>
          <p>Smidt Vine</p>
          <p>v/Bruno Kristensen</p>
          <p>Strandvej 75</p>
          <p>5700 Svendborg</p>
          <p class="cvr">CVR: 37223115</p>
        </article>
        <article>
          <p>Kontakt:</p>
          <p>Telefon: <a href="tel:21950875">21 95 08 75</a></p>
          <p>
            Mail: <span><a href="mailto:info@smidtvine.dk" target="_blank">info@smidtvine.dk</a></span>
          </p>
          <a href="https://facebook.com/smidtvine" target="_blank">Følg Smidt Vine på Facebook!</a>
        </article>
      </article>
    </footer>
    <footer id="desk_footer">
      <a href="index.html"><img src="img/logo5.png" alt="Smidt Vine logo" class="footer_logo" /></a>
      <p>
        Smidt Vine v/Bruno Kristensen. Strandvej 75. 5700 Svendborg. Cvr: 37223115. Kontakt: Telefon: <a href="tel:21950875">21 95 08 75</a>. Mail:
        <span><a href="mailto:info@smidtvine.dk" target="_blank">info@smidtvine.dk</a></span>
      </p>
    </footer>

    <script>
      "use strict";
      let vine = [];
      let filter = "smagekasser";

      window.addEventListener("DOMContentLoaded", loadJSON);

      function loadJSON() {
        fetch("https://josefinemargrethe.dk/kea/4-semester/smidtvine/wordpress/wp-json/wp/v2/vine?per_page=100")
          .then((response) => response.json())
          .then((vine) => {
            //når JSON er loadet tager vi vores data med videre
            showData(vine);
          });
      }

      function showData(vine) {
        // we are clearing the list
        document.querySelector(".wines").innerHTML = "";

        // we are building a new list
        vine.forEach(displayData);
      }

      function displayData(vine) {
        if (filter == vine.vin_type) {
          // create clone
          const clone = document.querySelector("template").content.cloneNode(true);

          // set clone data
          clone.querySelector(".wine_image").innerHTML = `<img src="${vine.vin_billede.guid}" alt="${vine.vin_billede.post_title}">`;
          clone.querySelector(".wine_name").innerHTML = vine.vin_navn;
          clone.querySelector(".wine_description").innerHTML = vine.kort_beskrivelse;

          if (vine.udsolgt == "ja") {
            clone.querySelector(".wine_price_six").innerHTML = `${vine.vin_navn} er desværre mildertidigt udsolgt!`;
            clone.querySelector(".wine_price_six").style.color = "rgb(192, 98, 98)";
          } else {
            clone.querySelector(".wine_price_six").innerHTML = `<b><p>Pris: ${vine.pris_6flasker} kr. ved køb af denne kasse</p></b>`;

            if (vine.pris_enkeltstyk != "") {
              clone.querySelector(".wine_price").innerHTML = `<p>Ellers ${vine.pris_enkeltstyk} kr. pr. flaske</p>`;
            }
          }

          let theme = vine.vin_type;
          clone.querySelector(".readmore").setAttribute("data-theme", theme);

          document.querySelector(".wines").appendChild(clone);

          document.querySelector(".wines").lastElementChild.addEventListener("click", () => {
            location.href = "vin.html?id=" + vine.id;
            //her vil browseren hente siden vin.html, og den vil desuden give siden en variabel,x, som er lig med vine.id.
          });
        }
      }
    </script>
    <script src="header.js"></script>
    <script src="fragt.js"></script>
  </body>
</html>
